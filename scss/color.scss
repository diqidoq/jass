$o: null;
@if $override == yes {
  $o: !important;
}

$ch: null;
@if $colored-headers {
  $ch: $colored-headers;
}

$cl: null;
@if $colored-links == yes {
  $cl: yes;
}

@if $enable-color-generator == yes {
  $color-preset: ();
  @each $r in $red {
    @each $g in $green {
      @each $b in $blue {
        $color-preset: append($color-preset, #{$r}#{$g}#{$b}, 'comma');
      }
    }
  }
}

$ctd-sel: null;
$cld-sel: null;
$cbg-sel: null;
 $cb-sel: null;
  $c-sel: null;
 $cl-sel: null;
 $ch-sel: null;

$n: null;
$c: null;
$i: 1;
@each $name, $hexcodes in $color-preset {
  $j: 1;
  @each $c in $hexcodes {
    @if $colorlabel == name { $n: #{$name}-#{$j};
     } @else if $colorlabel == code {  $n: #{$c};
     } @else { @error "colorlabel setting must be either > name or > code.";
    }
  @if $selectors == long {
    $ctd-sel: ".text-decoration-color-#{$n}";
    $cld-sel: ".link-decoration-color-#{$n} a";
    $cbg-sel:      ".background-color-#{$n}";
     $cb-sel:          ".border-color-#{$n}";
      $c-sel:                 ".color-#{$n}";
     $cl-sel:            ".link-color-#{$n} a";
     $ch-sel:          ".header-color-#{$n}";
  } @else if $selectors == short {
    $ctd-sel: ".c-td-#{$n}";
    $cld-sel: ".c-ld-#{$n} a";
    $cbg-sel: ".c-bg-#{$n}";
     $cb-sel:  ".c-b-#{$n}";
      $c-sel:    ".c-#{$n}";
     $cl-sel:  ".c-l-#{$n} a";
     $ch-sel:  ".c-h-#{$n}";
  } @else { @error "selectors setting must be either > long or > short"; }
  @if $index-classes == yes {
    $ctd-sel: $ctd-sel + ", .c-td-#{$i}";
    $cld-sel: $cld-sel + ", .c-ld-#{$i} a";
    $cbg-sel: $cbg-sel + ", .c-bg-#{$i}";
     $cb-sel: $cb-sel  +  ", .c-b-#{$i}";
      $c-sel: $c-sel   +    ", .c-#{$i}";
     $cl-sel: $cl-sel  +  ", .c-l-#{$i} a";
     $ch-sel: $ch-sel  +  ", .c-h-#{$i}";
  }
            #{$ctd-sel} { text-decoration-color: ##{$c}$o; }
  @if $cl { #{$cld-sel} {           @extend .c-td-#{$n}; } }   
            #{$cbg-sel} {      background-color: ##{$c}$o; }
             #{$cb-sel} {          border-color: ##{$c}$o; }
              #{$c-sel} {                 color: ##{$c}$o; }
  @if $cl {  #{$cl-sel} {              @extend .c-#{$n}; } }
  @if $ch {  #{$ch-sel} {     #{$ch} { @extend .c-#{$n}; } } }

  $j: $j + 1;
}
  $i: $i + 1;
}
